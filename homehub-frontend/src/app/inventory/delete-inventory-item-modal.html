@if (isOpen) {
<div
  class="fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] p-4 animate-[fadeIn_0.2s_ease] modal-backdrop"
  (click)="onBackdropClick($event)">
  <div class="bg-white rounded-xl shadow-2xl w-full max-w-md flex flex-col animate-[slideUp_0.3s_ease] overflow-hidden"
    (click)="$event.stopPropagation()">
    <div class="flex items-center justify-between p-6 border-b border-gray-200 md:p-4">
      <h2 class="m-0 text-2xl md:text-xl font-bold text-red-600">Deactivate Inventory Item</h2>
      <button
        class="bg-transparent border-none text-gray-500 cursor-pointer p-2 rounded-md transition-all duration-200 flex items-center justify-center hover:bg-gray-50 hover:text-gray-600"
        (click)="onClose()" aria-label="Close modal">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6L6 18"></path>
          <path d="M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <div class="p-6 md:p-4">
      <div class="mb-4">
        <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-600">
            <path d="M3 6h18"></path>
            <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
            <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
          </svg>
        </div>
        <p class="text-gray-900 text-base text-center mb-4">
          Are you sure you want to deactivate <strong>"{{ itemName }}"</strong>?
        </p>
        <div class="bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4">
          <p class="text-amber-800 text-sm m-0 leading-relaxed">
            <strong class="font-semibold">Warning:</strong> This action will mark this item as inactive and will also
            mark all shopping list items and recipe ingredients that reference this inventory item as inactive. The item
            will no longer appear in lists, but can be reactivated later if needed.
          </p>
        </div>
      </div>
    </div>

    <div class="flex justify-end gap-4 p-6 border-t border-gray-200 md:p-4">
      <button type="button"
        class="px-6 py-3 border-none rounded-lg text-base font-semibold cursor-pointer transition-all duration-200 bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:border-gray-300"
        (click)="onClose()">Cancel</button>
      <button type="button"
        class="px-6 py-3 border-none rounded-lg text-base font-semibold cursor-pointer transition-all duration-200 bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg shadow-red-500/30 hover:-translate-y-0.5 hover:shadow-xl hover:shadow-red-500/40"
        (click)="onConfirm()">
        Deactivate Item
      </button>
    </div>
  </div>
</div>
}